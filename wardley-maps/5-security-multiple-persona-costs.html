<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stakeholder Communication: Payment Gateway Security Fix</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            color: #1e293b;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 28px;
            margin: 0 0 10px 0;
            color: #1e293b;
        }

        .header p {
            font-size: 16px;
            color: #64748b;
            margin: 0;
        }

        /* Persona selector */
        .persona-selector {
            display: flex;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .persona-card {
            flex: 1;
            min-width: 200px;
            max-width: 250px;
            background: white;
            border: 3px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .persona-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            border-color: #6366f1;
        }

        .persona-card.active {
            background: #6366f1;
            color: white;
            border-color: #4f46e5;
        }

        .persona-card .icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .persona-card .title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .persona-card .role {
            font-size: 13px;
            opacity: 0.8;
        }

        /* Content area */
        .content-area {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
            padding: 40px;
            margin-bottom: 20px;
        }

        .persona-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }

        .persona-header .icon {
            font-size: 64px;
        }

        .persona-header .info h2 {
            margin: 0 0 5px 0;
            font-size: 24px;
            color: #1e293b;
        }

        .persona-header .info p {
            margin: 0;
            font-size: 16px;
            color: #64748b;
            font-style: italic;
        }

        /* Communication guide */
        .communication-guide {
            background: #f0f9ff;
            border: 2px solid #3b82f6;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .communication-guide h3 {
            margin: 0 0 15px 0;
            color: #1e40af;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .communication-guide ul {
            margin: 0;
            padding-left: 20px;
        }

        .communication-guide li {
            margin: 8px 0;
            line-height: 1.6;
        }

        /* Message section */
        .message-section {
            background: #fafafa;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 25px;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .message-header h3 {
            margin: 0;
            font-size: 20px;
            color: #1e293b;
        }

        .message-content {
            font-size: 15px;
            line-height: 1.8;
        }

        /* Message styling based on persona */
        .message-content h4 {
            margin: 20px 0 10px 0;
            font-size: 17px;
            color: #1e293b;
        }

        .message-content p {
            margin: 12px 0;
        }

        .message-content ul {
            margin: 10px 0;
            padding-left: 25px;
        }

        .message-content li {
            margin: 8px 0;
        }

        /* Special callouts */
        .risk-callout {
            background: #fef2f2;
            border-left: 4px solid #dc2626;
            padding: 15px;
            margin: 20px 0;
            font-weight: 500;
        }

        .technical-callout {
            background: #f8fafc;
            border-left: 4px solid #6366f1;
            padding: 15px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: pre-wrap;
        }

        .action-callout {
            background: #f0fdf4;
            border-left: 4px solid #10b981;
            padding: 15px;
            margin: 20px 0;
            font-weight: 500;
        }

        .metric-callout {
            background: #fffbeb;
            border-left: 4px solid #f59e0b;
            padding: 15px;
            margin: 20px 0;
        }

        /* Copy button */
        .copy-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #6366f1;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }

        .copy-button:hover {
            background: #4f46e5;
        }

        .copy-button.copied {
            background: #10b981;
        }

        .message-wrapper {
            position: relative;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .persona-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .persona-card {
                max-width: 300px;
                width: 100%;
            }
            
            .content-area {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîí Payment Gateway Security Fix</h1>
            <p>Tailored communication for different stakeholders about the critical SQL injection vulnerability</p>
        </div>

        <div class="persona-selector">
            <div class="persona-card active" onclick="selectPersona('board')">
                <div class="icon">üíº</div>
                <div class="title">Board Member</div>
                <div class="role">Executive Leadership</div>
            </div>
            <div class="persona-card" onclick="selectPersona('ciso')">
                <div class="icon">üõ°Ô∏è</div>
                <div class="title">CISO</div>
                <div class="role">Security Leadership</div>
            </div>
            <div class="persona-card" onclick="selectPersona('cto')">
                <div class="icon">‚öôÔ∏è</div>
                <div class="title">CTO</div>
                <div class="role">Technology Leadership</div>
            </div>
            <div class="persona-card" onclick="selectPersona('developer')">
                <div class="icon">üë®‚Äçüíª</div>
                <div class="title">Developer</div>
                <div class="role">Implementation Team</div>
            </div>
        </div>

        <div class="content-area" id="content-area">
            <!-- Content will be dynamically inserted here -->
        </div>
    </div>

    <script>
        // Persona data
        const personas = {
            board: {
                icon: 'üíº',
                title: 'Board Member',
                role: 'Executive Leadership',
                description: 'Focused on business risk, regulatory compliance, and shareholder value. Requires executive summaries with clear business impact.',
                communicationTips: [
                    'Lead with business impact in financial terms',
                    'Keep it concise - one page maximum',
                    'Focus on risk to revenue and reputation',
                    'Include regulatory and compliance implications',
                    'Provide clear recommendations with timelines',
                    'Avoid technical jargon'
                ],
                message: `
<h4>Executive Summary</h4>

<div class="risk-callout">
‚ö†Ô∏è IMMEDIATE ACTION REQUIRED: Critical vulnerability in payment processing system threatens core business operations
</div>

<h4>Business Impact</h4>

<p><strong>Revenue at Risk:</strong> $2.3M daily transaction volume (100% of online revenue)</p>

<p><strong>Potential Losses:</strong></p>
<ul>
<li>Direct financial loss from fraudulent transactions</li>
<li>3-6 month business interruption if payment systems compromised</li>
<li>Loss of customer trust and market share to competitors</li>
</ul>

<h4>Regulatory & Compliance Risk</h4>

<div class="metric-callout">
<strong>PCI-DSS Violation:</strong> Up to $500,000/month in fines<br>
<strong>Data Breach Costs:</strong> Average $4.35M per incident (IBM Security Report 2023)<br>
<strong>License Risk:</strong> Potential suspension of payment processing capabilities
</div>

<h4>Recommendation</h4>

<div class="action-callout">
‚úÖ Approve emergency security budget allocation<br>
‚úÖ Expected resolution: 48 hours with dedicated resources<br>
‚úÖ ROI: Preventing single breach saves minimum $4.35M
</div>

<p><strong>Next Steps:</strong> CTO has resource plan ready. Awaiting board approval to proceed.</p>
                `
            },
            ciso: {
                icon: 'üõ°Ô∏è',
                title: 'CISO',
                role: 'Chief Information Security Officer',
                description: 'Responsible for security strategy and risk management. Needs comprehensive risk assessment with technical context and compliance implications.',
                communicationTips: [
                    'Provide detailed risk assessment with CVSS scores',
                    'Include threat intelligence and attack vectors',
                    'Detail compliance and regulatory implications',
                    'Show security control gaps and remediation plan',
                    'Include metrics and KPIs for tracking',
                    'Connect to broader security strategy'
                ],
                message: `
<h4>Security Risk Assessment: Critical Payment Gateway Vulnerability</h4>

<div class="risk-callout">
üö® SEVERITY: CRITICAL | CVSS 9.8 | Exploitation: Trivial | Business Impact: Catastrophic
</div>

<h4>Vulnerability Details</h4>

<p><strong>Type:</strong> SQL Injection (CWE-89)<br>
<strong>Component:</strong> Payment Gateway API (payment.example.com/api/v2/process)<br>
<strong>Discovery:</strong> Internal security audit on ${new Date().toLocaleDateString()}<br>
<strong>Exposure:</strong> Internet-facing, no authentication required</p>

<h4>Threat Analysis</h4>

<div class="metric-callout">
<strong>Attack Surface:</strong> Public endpoint processing 120,000 transactions/day<br>
<strong>Threat Actors:</strong> Already seeing reconnaissance from known criminal IPs<br>
<strong>Time to Exploit:</strong> < 10 minutes with basic SQL knowledge<br>
<strong>Detection Capability:</strong> Current WAF rules insufficient
</div>

<h4>Risk Impact Assessment</h4>

<p><strong>Primary Risks:</strong></p>
<ul>
<li><strong>Data Breach:</strong> Full access to payment database (400,000+ tokenized cards)</li>
<li><strong>Service Disruption:</strong> Ability to delete/corrupt transaction records</li>
<li><strong>Lateral Movement:</strong> Gateway has access to 5 internal systems</li>
<li><strong>Compliance Breach:</strong> Immediate PCI-DSS Level 1 violation</li>
</ul>

<h4>Security Control Gaps</h4>

<div class="technical-callout">
Current State:
- No input validation on transaction endpoints
- Logging insufficient for forensic analysis
- Database queries not parameterized
- Last security update: 18 months ago
</div>

<h4>Remediation Plan</h4>

<p><strong>Immediate Actions (0-24 hours):</strong></p>
<ul>
<li>Deploy emergency WAF rules (70% effective)</li>
<li>Increase monitoring on payment endpoints</li>
<li>Prepare incident response team</li>
</ul>

<p><strong>Short-term Fix (24-72 hours):</strong></p>
<ul>
<li>Implement parameterized queries</li>
<li>Deploy input validation layer</li>
<li>Update all security patches</li>
<li>Conduct penetration test</li>
</ul>

<p><strong>Long-term Strategy (1-3 months):</strong></p>
<ul>
<li>Migrate to modern payment gateway</li>
<li>Implement zero-trust architecture</li>
<li>Deploy runtime application security</li>
</ul>

<h4>Compliance Requirements</h4>

<div class="action-callout">
‚öñÔ∏è <strong>Immediate Requirements:</strong><br>
‚Ä¢ Document remediation timeline for PCI audit<br>
‚Ä¢ Prepare breach notification (if exploited)<br>
‚Ä¢ Update risk register and GRC platform<br>
‚Ä¢ Board notification per security policy
</div>

<h4>Success Metrics</h4>

<p><strong>KPIs for Tracking:</strong></p>
<ul>
<li>Time to remediation: Target < 48 hours</li>
<li>Security scan results: Must pass OWASP Top 10</li>
<li>False positive rate: < 0.1% on payment processing</li>
<li>Performance impact: < 5% latency increase</li>
</ul>
                `
            },
            cto: {
                icon: '‚öôÔ∏è',
                title: 'CTO',
                role: 'Chief Technology Officer',
                description: 'Oversees technology strategy and engineering resources. Needs technical architecture impact, resource requirements, and implementation approach.',
                communicationTips: [
                    'Balance technical detail with strategic impact',
                    'Include architecture and system dependencies',
                    'Provide resource requirements and timeline',
                    'Address technical debt and modernization',
                    'Include performance and scalability impacts',
                    'Connect to technology roadmap'
                ],
                message: `
<h4>Technical Priority: Critical Payment Gateway Security Fix</h4>

<div class="risk-callout">
üî¥ P0 INCIDENT: Payment gateway SQL injection - requires immediate engineering response
</div>

<h4>System Overview</h4>

<p><strong>Affected System:</strong> Legacy Payment Gateway (payment-gateway-prod)<br>
<strong>Technology Stack:</strong> Java 8, Spring 3.x, MySQL 5.7<br>
<strong>Transaction Volume:</strong> 120,000/day (peak: 300 TPS)<br>
<strong>Dependencies:</strong> 5 microservices, 3 third-party integrations</p>

<h4>Technical Vulnerability</h4>

<div class="technical-callout">
Location: PaymentProcessor.java:234-251
Issue: Unparameterized SQL queries with direct user input
Example: "SELECT * FROM payments WHERE id=" + request.getParameter("txId")
Risk: Complete database access, data exfiltration, service disruption
</div>

<h4>Architecture Impact Analysis</h4>

<div class="metric-callout">
<strong>Single Point of Failure:</strong> No gateway redundancy<br>
<strong>Coupled Services:</strong> Order Management, Inventory, Analytics<br>
<strong>Data Flow:</strong> 2.3GB/day sensitive payment data<br>
<strong>Technical Debt:</strong> 47 missed security patches, EOL frameworks
</div>

<h4>Resource Requirements</h4>

<p><strong>Immediate Fix (48-72 hours):</strong></p>
<ul>
<li><strong>Engineering:</strong> 2 Senior Backend (payment team)</li>
<li><strong>QA:</strong> 1 Senior QA Engineer</li>
<li><strong>Security:</strong> 1 AppSec Engineer for review</li>
<li><strong>DevOps:</strong> 1 SRE for deployment</li>
</ul>

<p><strong>Estimated Effort:</strong></p>
<ul>
<li>Code changes: 16 hours</li>
<li>Testing: 12 hours</li>
<li>Security review: 8 hours</li>
<li>Deployment & monitoring: 8 hours</li>
</ul>

<h4>Implementation Plan</h4>

<p><strong>Phase 1: Emergency Fix (0-48 hours)</strong></p>
<ul>
<li>Implement PreparedStatement for all SQL queries</li>
<li>Add input validation layer</li>
<li>Deploy behind feature flag</li>
<li>Comprehensive testing in staging</li>
</ul>

<p><strong>Phase 2: Stabilization (48-72 hours)</strong></p>
<ul>
<li>Progressive rollout (10% ‚Üí 50% ‚Üí 100%)</li>
<li>Performance optimization</li>
<li>Update monitoring and alerts</li>
<li>Security verification</li>
</ul>

<h4>Technical Considerations</h4>

<div class="technical-callout">
Performance Impact:
- Expected 10-15% query latency increase initially
- Mitigation: Database index optimization
- Long-term: Query caching implementation

Rollback Strategy:
- Blue-green deployment ready
- Feature flag for instant disable
- 5-minute rollback window
</div>

<h4>Modernization Opportunity</h4>

<p><strong>Short-term (Post-fix):</strong></p>
<ul>
<li>Upgrade to Java 17 LTS</li>
<li>Migrate to Spring Boot 3.x</li>
<li>Implement API rate limiting</li>
</ul>

<p><strong>Long-term Architecture:</strong></p>
<ul>
<li>Microservice decomposition</li>
<li>Event-driven architecture</li>
<li>Multi-region redundancy</li>
<li>Modern payment service provider integration</li>
</ul>

<div class="action-callout">
‚úÖ <strong>CTO Action Required:</strong><br>
‚Ä¢ Approve resource allocation from feature teams<br>
‚Ä¢ Authorize emergency change window<br>
‚Ä¢ Review and approve deployment plan<br>
‚Ä¢ Communicate priority to engineering leads
</div>
                `
            },
            developer: {
                icon: 'üë®‚Äçüíª',
                title: 'Developer',
                role: 'Software Engineer',
                description: 'Implements the actual fix. Needs detailed technical requirements, code examples, testing criteria, and deployment instructions.',
                communicationTips: [
                    'Provide specific code examples and patterns',
                    'Include exact file locations and line numbers',
                    'Detail testing requirements and edge cases',
                    'Give clear acceptance criteria',
                    'Include deployment and rollback procedures',
                    'Explain the business context for motivation'
                ],
                message: `
<h4>üö® P0 Security Fix: Payment Gateway SQL Injection</h4>

<div class="risk-callout">
STOP ALL CURRENT WORK - This vulnerability can destroy the entire business if exploited.
Every minute this remains unfixed is a minute we could lose all customer payment data.
</div>

<h4>Business Context (Why This Matters)</h4>

<p>This isn't just another security ticket. The payment gateway processes 100% of our revenue ($2.3M/day). 
One successful SQL injection could:</p>
<ul>
<li>Steal all 400,000 customer payment tokens</li>
<li>Delete our entire transaction history</li>
<li>Get us shut down by Visa/Mastercard</li>
<li>Cost us $4.35M in breach recovery</li>
</ul>

<h4>The Vulnerability</h4>

<div class="technical-callout">
File: src/main/java/com/company/payment/PaymentProcessor.java
Lines: 234-251

VULNERABLE CODE:
public PaymentResponse processTransaction(HttpServletRequest request) {
    String txId = request.getParameter("txId");
    String amount = request.getParameter("amount");
    
    // THIS IS THE PROBLEM - Direct SQL concatenation!
    String sql = "SELECT * FROM payments WHERE id=" + txId + 
                 " AND amount=" + amount;
    
    Statement stmt = connection.createStatement();
    ResultSet rs = stmt.executeQuery(sql);  // SQL INJECTION HERE
    
    // ... rest of the code
}

ATTACK EXAMPLE:
txId = "1 OR 1=1; DROP TABLE payments; --"
Result: Entire payments table deleted!
</div>

<h4>The Fix</h4>

<div class="technical-callout">
SECURE CODE:
public PaymentResponse processTransaction(HttpServletRequest request) {
    String txId = request.getParameter("txId");
    String amount = request.getParameter("amount");
    
    // Step 1: Input validation
    if (!isValidTransactionId(txId) || !isValidAmount(amount)) {
        throw new ValidationException("Invalid input parameters");
    }
    
    // Step 2: Use PreparedStatement (parameterized query)
    String sql = "SELECT * FROM payments WHERE id = ? AND amount = ?";
    
    try (PreparedStatement pstmt = connection.prepareStatement(sql)) {
        pstmt.setString(1, txId);
        pstmt.setBigDecimal(2, new BigDecimal(amount));
        
        ResultSet rs = pstmt.executeQuery();  // SAFE from SQL injection
        
        // ... rest of the code
    }
}

// Add these validation methods
private boolean isValidTransactionId(String txId) {
    return txId != null && txId.matches("^[A-Za-z0-9-]{1,50}$");
}

private boolean isValidAmount(String amount) {
    try {
        BigDecimal bd = new BigDecimal(amount);
        return bd.compareTo(BigDecimal.ZERO) > 0 && 
               bd.compareTo(new BigDecimal("1000000")) <= 0;
    } catch (NumberFormatException e) {
        return false;
    }
}
</div>

<h4>Implementation Checklist</h4>

<p><strong>Code Changes:</strong></p>
<ul>
<li>‚úÖ Replace ALL Statement with PreparedStatement in PaymentProcessor.java</li>
<li>‚úÖ Add input validation for all parameters</li>
<li>‚úÖ Update PaymentDAO.java (lines 45-67) - same pattern</li>
<li>‚úÖ Update RefundProcessor.java (lines 112-128)</li>
<li>‚úÖ Add validation utility class: com.company.payment.validation.PaymentValidator</li>
</ul>

<h4>Testing Requirements</h4>

<div class="metric-callout">
<strong>Unit Tests (Add to PaymentProcessorTest.java):</strong>
‚Ä¢ testProcessTransaction_WithSQLInjectionAttempt()
‚Ä¢ testProcessTransaction_WithValidInput()
‚Ä¢ testProcessTransaction_WithInvalidCharacters()
‚Ä¢ testProcessTransaction_WithNullValues()
‚Ä¢ testProcessTransaction_WithBoundaryValues()

<strong>Integration Tests:</strong>
‚Ä¢ Run full payment flow with 1000 concurrent requests
‚Ä¢ Verify no performance regression (must handle 300 TPS)
‚Ä¢ Test with OWASP ZAP scanner - must show zero SQL injection vulnerabilities
</div>

<h4>Security Test Cases</h4>

<div class="technical-callout">
// Add these specific test cases
@Test
public void testSQLInjectionPrevention() {
    String[] maliciousInputs = {
        "1 OR 1=1",
        "1'; DROP TABLE payments; --",
        "1' UNION SELECT * FROM users--",
        "1\\'; INSERT INTO payments VALUES (999999, 1000000); --"
    };
    
    for (String input : maliciousInputs) {
        assertThrows(ValidationException.class, 
            () -> processor.processTransaction(mockRequest(input)));
    }
}
</div>

<h4>Deployment Instructions</h4>

<p><strong>Pre-deployment:</strong></p>
<ul>
<li>Run full test suite (must be 100% green)</li>
<li>Security scan with OWASP ZAP</li>
<li>Code review by: Senior Dev + Security Team</li>
<li>Load test in staging (300 TPS for 30 minutes)</li>
</ul>

<p><strong>Deployment Process:</strong></p>
<div class="technical-callout">
# Feature flag already created
export FEATURE_FLAG_SECURE_PAYMENT_SQL=true

# Deploy sequence
1. Deploy to canary (payment-gateway-canary)
2. Monitor for 30 minutes (check alerts, logs, metrics)
3. Deploy to 10% of production
4. Monitor for 1 hour
5. Deploy to 50% of production  
6. Monitor for 2 hours
7. Full production rollout

# Rollback command (if needed)
kubectl rollout undo deployment/payment-gateway -n production
</div>

<h4>Monitoring & Alerts</h4>

<p><strong>Add these monitors:</strong></p>
<ul>
<li>Query performance (alert if >15% degradation)</li>
<li>Error rate (alert if >0.1%)</li>
<li>SQL injection attempts (log and alert)</li>
<li>Database connection pool usage</li>
</ul>

<div class="action-callout">
‚è∞ <strong>Timeline:</strong><br>
‚Ä¢ Code complete: 16 hours from start<br>
‚Ä¢ Testing complete: +12 hours<br>
‚Ä¢ Security review: +8 hours<br>
‚Ä¢ Production deployment: +8 hours<br>
<strong>Total: 44 hours to full production fix</strong>
</div>

<h4>Questions?</h4>

<p>Contact on Slack: #payment-emergency-fix<br>
Security Team: @security-oncall<br>
Tech Lead: @payment-tech-lead</p>

<p><strong>Remember:</strong> This is protecting $2.3M/day in revenue. Take the time to do it right, but do it FAST.</p>
                `
            }
        };

        // Current selected persona
        let currentPersona = 'board';

        // Function to select persona
        function selectPersona(personaKey) {
            currentPersona = personaKey;
            
            // Update active states
            document.querySelectorAll('.persona-card').forEach((card, index) => {
                const keys = Object.keys(personas);
                card.classList.toggle('active', keys[index] === personaKey);
            });
            
            // Update content
            updateContent();
        }

        // Function to update content
        function updateContent() {
            const persona = personas[currentPersona];
            const contentArea = document.getElementById('content-area');
            
            contentArea.innerHTML = `
                <div class="persona-header">
                    <div class="icon">${persona.icon}</div>
                    <div class="info">
                        <h2>${persona.title}</h2>
                        <p>${persona.description}</p>
                    </div>
                </div>

                <div class="communication-guide">
                    <h3>üí° How to Communicate with ${persona.title}</h3>
                    <ul>
                        ${persona.communicationTips.map(tip => `<li>${tip}</li>`).join('')}
                    </ul>
                </div>

                <div class="message-section">
                    <div class="message-wrapper">
                        <div class="message-header">
                            <h3>üìß Message to Send</h3>
                        </div>
                        <button class="copy-button" onclick="copyMessage()">Copy Message</button>
                        <div class="message-content" id="message-content">
                            ${persona.message}
                        </div>
                    </div>
                </div>
            `;
        }

        // Function to copy message
        function copyMessage() {
            const messageContent = document.getElementById('message-content');
            const textContent = messageContent.innerText;
            
            navigator.clipboard.writeText(textContent).then(() => {
                const button = document.querySelector('.copy-button');
                button.textContent = 'Copied!';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.textContent = 'Copy Message';
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // Initialize on load
        window.addEventListener('load', () => {
            updateContent();
        });
    </script>
</body>
</html>